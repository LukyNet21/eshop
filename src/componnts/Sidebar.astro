---
import { eq } from "drizzle-orm";
import { db } from "../db/index";
import { categories_table } from "../db/schema";
const globalCategories = await db
  .select()
  .from(categories_table)
  .where(eq(categories_table.parrentId, 1));
---

<aside>
  <button
    >Zobrazit kategorie <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2.25"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path d="m9 18 6-6-6-6"></path>
    </svg></button
  >
  <div class="categories">
    {
      globalCategories.map((cat) => (
        <a href={"/categories/" + cat.slug}>
          <span>{cat.name}</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2.25"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="m9 18 6-6-6-6" />
          </svg>
        </a>
      ))
    }
  </div>
</aside>

<style>
  aside {
    padding: 1rem 0;
    background-color: var(--bg);
    width: fit-content;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  aside > button {
    border: none;
    background: transparent;
    font-size: 28px;
    padding: 1rem 0;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  aside > button {
    cursor: pointer;
  }
  .categories {
    font-size: 20px;
    display: flex;
    flex-direction: column;
  }
  .categories a {
    color: var(--text);
    padding: 1rem 6rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 4px;
  }
  .categories a:hover {
    background: var(--bg-dark);
    text-decoration: none;
    color: var(--text-muted);
  }
  .categories a svg {
    transition: all 0.2s ease-in-out;
  }
  .categories a:hover svg {
    transform: translateX(10px);
  }
</style>
